package Behaviours;

import jade.core.behaviours.Behaviour;
import jade.lang.acl.ACLMessage;

public class B_Analiza extends Behaviour{

	int ancho, alto, visx, visy, x, y;
	char[][] mapa;
	
	public B_Analiza(ACLMessage A){
		int i=0, j=0;
		
		String aux=A.getContent();
		
		int indicesfinales[];
		
		while(aux.substring(i)!=","){
			i++;
		}
		
		j=i++;
		while(aux.substring(j)!=","){
			j++;
		}
		
		ancho=Integer.parseInt(aux.substring(0, i));
		alto=Integer.parseInt(aux.substring(i+1,j));
		
		mapa=new char[ancho][alto];
		
		indicesfinales=new int[6+alto];
		indicesfinales[0]=i;
		indicesfinales[1]=j;
		
		j++;
		i=2;
		
		int posx=0;
		int posy=0;
		
		for(; j<aux.length();j++){
			
			if(i>5){
				
				mapa[posx][posy]=aux.charAt(j);
				posx++;
			
			if(indicesfinales[i-1]==j-ancho){
				indicesfinales[i]=j;
				i++;
			}
			}
			
			if(aux.substring(j)==","){
				indicesfinales[i]=j;
				i++;
			}
		}
		
	}
	
	public void action(){
		
	}
	
	public boolean done(){
		return true;
	}
	
	
}
